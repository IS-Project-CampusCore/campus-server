syntax = "proto3";

import "Protos/common.proto";

option csharp_namespace = "usersServiceClient";

package usersService;

service usersService
{ 
    rpc GetUserById (UserIdRequest) returns (commons.protos.MessageResponse);
    rpc GetAllUsers (GetAllUsersRequest) returns (commons.protos.MessageResponse);

    rpc Verify (VerifyRequest) returns (commons.protos.MessageResponse);
    rpc Login (LoginRequest) returns (commons.protos.MessageResponse);
    rpc Register (RegisterRequest) returns (commons.protos.MessageResponse);
    rpc ResendVerifyCode (ResendVerifyCodeRequest) returns (commons.protos.MessageResponse);
    rpc DeleteAccount (DeleteAccountRequest) returns (commons.protos.MessageResponse);
    rpc ResetPassword (ResetPasswordRequest) returns (commons.protos.MessageResponse);
    rpc UpdateUser (UpdateUserRequest) returns (commons.protos.MessageResponse);
    
    rpc RegisterUsersFromExcel (RegisterFromExcelRequest) returns (commons.protos.MessageResponse);
    rpc UpdateUsersFromExcel (UpdateFromExcelRequest) returns (commons.protos.MessageResponse);
}

message UserIdRequest
{
    string id = 1;
}

message VerifyRequest
{
    string email = 1;
    string password = 2;
    string code = 3;
}
message ResendVerifyCodeRequest
{
    string email = 1;
}

message RegisterRequest
{
    string email = 1;
    string name = 2;
    string role = 3;
    optional string university = 4;
    optional int32 year = 5;
    optional int32 group = 6;
    optional string major = 7;
    optional string department = 8;
    optional string title = 9;
}

message LoginRequest 
{
    string email = 1;
    string password = 2;
}

message RegisterFromExcelRequest
{
    string fileName = 1;
}
   
message DeleteAccountRequest 
{
    string userId = 1;
}

message ResetPasswordRequest 
{
    string email = 1;
}
message GetAllUsersRequest 
{
    string placeholder = 1;
}

message UpdateUserRequest
{
    string email = 1;
    optional string name = 2;
    optional string role = 3;
    optional string university = 4;
    optional int32 year = 5;
    optional int32 group = 6;
    optional string major = 7;
    optional string dormitory = 8;
    optional string room = 9;
    optional string department = 10;
    optional string title = 11;
}

message UpdateFromExcelRequest
{
    string fileName = 1;
}